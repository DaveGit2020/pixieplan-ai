<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PixiePlanner.ai — Your AI Disney Trip Planner</title>
<meta name="description" content="Get a personalized AI-powered Disney guide built around YOUR family. Real tips from real families. Smart planning from 180 days out to day-of.">
<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&display=swap');
*{box-sizing:border-box;margin:0;padding:0}
:root{
  --midnight:#0f1538;--deep:#151c4a;--navy:#1a2456;
  --gold:#d4a853;--gold-light:#e8c97a;--gold-glow:rgba(212,168,83,.25);
  --star:#f0e6d0;--blush:#e8b4c8;--rose:#d48ba6;
  --text:#e8e4f0;--text-dim:#9a94b0;--white:#fff;
}
body{font-family:'Nunito',sans-serif;background:var(--midnight);color:var(--text);min-height:100vh;overflow-x:hidden}

/* Starfield background */
.sky{position:fixed;top:0;left:0;width:100%;height:100%;background:linear-gradient(180deg,#0a0e2a 0%,#111840 40%,#1a2456 70%,#1e2a5e 100%);z-index:0}
.stars{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}
.star{position:absolute;width:2px;height:2px;background:var(--star);border-radius:50%;animation:twinkle var(--dur) ease-in-out infinite}
@keyframes twinkle{0%,100%{opacity:.2;transform:scale(1)}50%{opacity:1;transform:scale(1.5)}}
/* Sparkle accent */
.sparkle-float{position:fixed;pointer-events:none;z-index:0}
.sparkle-float span{position:absolute;width:4px;height:4px;background:var(--gold);border-radius:50%;animation:float-up 6s ease-in-out infinite;opacity:0}
@keyframes float-up{0%{transform:translateY(0) scale(0);opacity:0}20%{opacity:.8;transform:translateY(-40px) scale(1)}80%{opacity:.4;transform:translateY(-120px) scale(.6)}100%{transform:translateY(-180px) scale(0);opacity:0}}

.container{max-width:720px;margin:0 auto;padding:24px 20px 60px;position:relative;z-index:1}

/* Email Gate */
.gate{text-align:center;padding:80px 20px 60px;min-height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center}
.gate-sparkle{font-size:64px;margin-bottom:16px;filter:drop-shadow(0 0 20px var(--gold-glow))}
.gate h1{font-size:32px;font-weight:900;margin-bottom:4px;color:var(--gold-light);letter-spacing:-.5px}
.gate .tagline{color:var(--blush);font-size:16px;font-weight:600;margin-bottom:6px}
.gate .sub{color:var(--text-dim);font-size:14px;margin-bottom:32px;max-width:400px;line-height:1.5}
.gate-box{background:rgba(26,36,86,.6);border:1px solid rgba(212,168,83,.2);backdrop-filter:blur(10px);border-radius:20px;padding:32px 28px;max-width:400px;width:100%}
.gate-box h2{font-size:18px;font-weight:800;color:var(--white);margin-bottom:4px}
.gate-box p{color:var(--text-dim);font-size:13px;margin-bottom:18px}
.gate-row{display:flex;gap:8px}
.gate-input{flex:1;padding:13px 16px;border-radius:12px;border:1px solid rgba(212,168,83,.25);background:rgba(15,21,56,.8);color:var(--white);font-size:15px;font-family:inherit;outline:none;transition:border-color .2s}
.gate-input:focus{border-color:var(--gold)}
.gate-input::placeholder{color:#5a5680}
.gate-btn{padding:13px 24px;border-radius:12px;border:none;background:linear-gradient(135deg,var(--gold),#c49640);color:var(--midnight);font-size:15px;font-weight:800;font-family:inherit;cursor:pointer;transition:all .2s;white-space:nowrap}
.gate-btn:hover{transform:translateY(-1px);box-shadow:0 4px 20px var(--gold-glow)}
.gate-note{color:var(--text-dim);font-size:11px;margin-top:12px}

/* Main */
.main{display:none}

/* Hero */
.hero{text-align:center;padding:24px 0 44px}
.hero-spark{font-size:52px;margin-bottom:8px;display:block;filter:drop-shadow(0 0 16px var(--gold-glow))}
.hero h1{font-size:34px;font-weight:900;letter-spacing:-.5px;margin-bottom:8px;line-height:1.15;color:var(--white)}
.hero h1 em{font-style:normal;color:var(--gold-light)}
.hero .sub{color:var(--blush);font-size:17px;font-weight:600;margin-bottom:10px}
.hero .desc{color:var(--text-dim);font-size:15px;line-height:1.6;max-width:540px;margin:0 auto 20px}
.hero-badge{display:inline-flex;align-items:center;gap:6px;background:rgba(212,168,83,.1);border:1px solid rgba(212,168,83,.25);padding:7px 16px;border-radius:20px;font-size:12px;font-weight:700;color:var(--gold);text-transform:uppercase;letter-spacing:1px}

/* CTA Button */
.cta-section{text-align:center;margin:0 0 44px}
.cta-btn{display:inline-block;padding:18px 44px;border-radius:16px;border:none;background:linear-gradient(135deg,var(--gold),#c49640);color:var(--midnight);font-size:18px;font-weight:900;font-family:inherit;cursor:pointer;transition:all .2s;text-decoration:none;box-shadow:0 4px 24px var(--gold-glow)}
.cta-btn:hover{transform:translateY(-2px);box-shadow:0 8px 32px rgba(212,168,83,.4)}
.cta-sub{color:var(--text-dim);font-size:13px;margin-top:10px}

/* Sample Preview */
.sample-section{margin:0 0 44px;text-align:center}
.sample-card{background:rgba(26,36,86,.5);border:1px solid rgba(212,168,83,.15);border-radius:20px;padding:28px;transition:border-color .2s}
.sample-card:hover{border-color:rgba(212,168,83,.4)}
.sample-card h3{font-size:18px;font-weight:800;color:var(--white);margin-bottom:6px}
.sample-card p{color:var(--text-dim);font-size:14px;margin-bottom:16px;line-height:1.5}
.sample-link{display:inline-flex;align-items:center;gap:8px;color:var(--gold);font-weight:700;font-size:15px;text-decoration:none;transition:gap .2s}
.sample-link:hover{gap:12px}

/* Section Labels */
.section-label{font-size:11px;text-transform:uppercase;letter-spacing:2.5px;color:var(--gold);font-weight:800;margin-bottom:16px}

/* How It Works */
.how-it-works{margin:0 0 44px}
.steps{display:grid;gap:12px}
.step{display:flex;gap:16px;align-items:flex-start;background:rgba(26,36,86,.4);border:1px solid rgba(212,168,83,.1);border-radius:16px;padding:20px}
.step-num{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,var(--gold),#c49640);display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:900;color:var(--midnight);flex-shrink:0}
.step-text h3{font-size:15px;font-weight:800;color:var(--white);margin-bottom:3px}
.step-text p{color:var(--text-dim);font-size:13px;line-height:1.5}

/* Features */
.features{margin:0 0 44px}
.feat-grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
@media(max-width:480px){.feat-grid{grid-template-columns:1fr}}
.feat{background:rgba(26,36,86,.4);border:1px solid rgba(212,168,83,.08);border-radius:14px;padding:18px}
.feat-icon{font-size:26px;margin-bottom:6px}
.feat h4{font-size:14px;font-weight:800;color:var(--white);margin-bottom:3px}
.feat p{color:var(--text-dim);font-size:12px;line-height:1.5}

/* Parks Covered */
.parks-section{margin:0 0 44px}
.parks-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
@media(max-width:520px){.parks-grid{grid-template-columns:repeat(2,1fr)}}
.park-chip{background:rgba(26,36,86,.5);border:1px solid rgba(212,168,83,.12);border-radius:12px;padding:14px 10px;text-align:center;transition:border-color .2s}
.park-chip:hover{border-color:rgba(212,168,83,.3)}
.park-chip .park-emoji{font-size:28px;display:block;margin-bottom:4px}
.park-chip .park-name{font-size:12px;font-weight:700;color:var(--text);line-height:1.2}

/* Intake Form Area */
.intake-section{margin:0 0 44px;text-align:center}
.intake-placeholder{background:rgba(26,36,86,.4);border:2px dashed rgba(212,168,83,.2);border-radius:20px;padding:40px 24px}
.intake-placeholder h3{font-size:18px;font-weight:800;color:var(--white);margin-bottom:8px}
.intake-placeholder p{color:var(--text-dim);font-size:14px;line-height:1.5;margin-bottom:16px}
.intake-placeholder .coming{display:inline-block;background:rgba(212,168,83,.1);border:1px solid rgba(212,168,83,.2);color:var(--gold);padding:8px 20px;border-radius:10px;font-size:13px;font-weight:700}

/* Community Cards */
.community-section{margin:0 0 40px}
.community-cards{display:grid;gap:10px}
.comm-card{background:rgba(26,36,86,.4);border:1px solid rgba(212,168,83,.1);border-radius:16px;padding:20px;display:flex;align-items:center;gap:14px;cursor:pointer;transition:all .2s}
.comm-card:hover{border-color:rgba(212,168,83,.3);transform:translateY(-1px)}
.comm-icon{width:44px;height:44px;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:22px;flex-shrink:0}
.comm-icon.inf{background:rgba(232,180,200,.12)}
.comm-icon.exp{background:rgba(100,140,230,.12)}
.comm-icon.ven{background:rgba(212,168,83,.12)}
.comm-info h3{font-size:15px;font-weight:800;color:var(--white)}
.comm-info p{color:var(--text-dim);font-size:12px;line-height:1.4}
.comm-tag{margin-left:auto;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.5px;padding:4px 10px;border-radius:6px;white-space:nowrap}
.tag-blush{background:rgba(232,180,200,.12);color:var(--blush)}
.tag-blue{background:rgba(100,140,230,.12);color:#8ab4f8}
.tag-gold{background:rgba(212,168,83,.12);color:var(--gold)}

/* Community form */
.comm-form{display:none;margin-top:12px;padding-top:12px;border-top:1px solid rgba(212,168,83,.1)}
.comm-form.open{display:block}
.form-row{margin-bottom:8px}
.form-row label{display:block;font-size:11px;font-weight:700;color:var(--text-dim);margin-bottom:3px;text-transform:uppercase;letter-spacing:.5px}
.form-input{width:100%;padding:11px 14px;border-radius:10px;border:1px solid rgba(212,168,83,.15);background:rgba(15,21,56,.6);color:var(--white);font-size:14px;font-family:inherit;outline:none}
.form-input:focus{border-color:var(--gold)}
.form-input::placeholder{color:#4a4670}
textarea.form-input{resize:vertical;min-height:56px}
.form-submit{width:100%;padding:12px;border-radius:10px;border:none;font-size:14px;font-weight:800;font-family:inherit;cursor:pointer;transition:all .2s;color:var(--midnight)}
.form-submit:hover{opacity:.9}
.form-submit.blush{background:linear-gradient(135deg,var(--blush),var(--rose))}
.form-submit.blue{background:linear-gradient(135deg,#6488e6,#4a6cd4)}
.form-submit.gold{background:linear-gradient(135deg,var(--gold),#c49640)}

/* Testimonials */
.testimonials{margin:0 0 40px;text-align:center}
.test-quote{font-style:italic;color:var(--star);font-size:16px;line-height:1.5;margin-bottom:8px}
.test-attr{color:var(--text-dim);font-size:13px}

/* Powered By */
.powered{text-align:center;margin:36px 0 12px;padding:20px;background:rgba(26,36,86,.4);border:1px solid rgba(212,168,83,.1);border-radius:16px}
.powered p{color:var(--text-dim);font-size:12px;margin-bottom:4px}
.powered .brand{font-size:15px;font-weight:800}
.powered .brand span{color:var(--gold)}

/* Footer */
.footer{text-align:center;color:#3a366a;font-size:11px;padding:20px 0}

/* Toast */
.toast{position:fixed;top:20px;left:50%;transform:translateX(-50%) translateY(-80px);background:linear-gradient(135deg,var(--gold),#c49640);color:var(--midnight);padding:14px 28px;border-radius:14px;font-size:14px;font-weight:800;z-index:100;transition:transform .4s;pointer-events:none;text-align:center;box-shadow:0 4px 20px var(--gold-glow)}
.toast.visible{transform:translateX(-50%) translateY(0)}

/* Fade in */
.fade-in{opacity:0;transform:translateY(20px);transition:all .6s ease}
.fade-in.visible{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<!-- Starfield -->
<div class="sky"></div>
<div class="stars" id="stars"></div>

<div class="container">

<!-- VIP ACCESS GATE -->
<div class="gate" id="gate">
  <div class="gate-sparkle">&#10024;</div>
  <h1>PixiePlanner.ai</h1>
  <div class="tagline">Your Family's Disney Trip, Planned by AI</div>
  <p class="sub">Personalized day-by-day guides built around your kids' ages, heights, and personalities. Real tips from real families.</p>
  <div class="gate-box">
    <h2>Early Access Preview</h2>
    <p>Enter your access code to continue</p>
    <div class="gate-row">
      <input class="gate-input" id="gateCode" type="text" placeholder="Access code" autocomplete="off" autocapitalize="off">
      <button class="gate-btn" onclick="checkGate()">Enter &#10024;</button>
    </div>
    <div class="gate-note">Invite only — ask Dave for your code</div>
    <div class="gate-error" id="gateError" style="color:#ef4444;font-size:13px;margin-top:10px;display:none">Code not recognized. Check with Dave.</div>
  </div>
</div>

<!-- MAIN CONTENT -->
<div class="main" id="main">

  <!-- Hero -->
  <div class="hero fade-in">
    <span class="hero-spark">&#10024;</span>
    <h1>Your Family's Disney Trip,<br><em>Planned by AI</em></h1>
    <div class="sub">Real tips from real families. Personalized for yours.</div>
    <p class="desc">PixiePlanner builds a custom Disney World guide around YOUR family — your kids' ages, heights, personalities, budget, and energy levels. Every park. Every ride. Every restaurant. No more generic advice. No more meltdowns on Day 3.</p>
    <div class="hero-badge">&#10024; Tested on Real Disney Trips</div>
  </div>

  <!-- CTA -->
  <div class="cta-section fade-in">
    <a class="cta-btn" href="#intake">Get Your Family's Guide — $29</a>
    <div class="cta-sub">Personalized AI guide delivered within 48 hours</div>
  </div>

  <!-- Sample Preview -->
  <div class="sample-section fade-in">
    <div class="sample-card">
      <h3>&#128064; See What You'll Get</h3>
      <p>We built a sample guide for a family of four with two young kids. Day-by-day park plans, priority rides, dining picks, rest strategies, and real kid reviews.</p>
      <a class="sample-link" href="/sample">View the Sample Guide &#8594;</a>
    </div>
  </div>

  <!-- How It Works -->
  <div class="how-it-works fade-in">
    <div class="section-label">How It Works</div>
    <div class="steps">
      <div class="step">
        <div class="step-num">1</div>
        <div class="step-text">
          <h3>Tell Us About Your Family</h3>
          <p>Fill out a quick form about your kids (ages, heights, favorites, scare tolerance), your trip dates, budget, and travel style.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">2</div>
        <div class="step-text">
          <h3>We Build Your Custom Guide</h3>
          <p>Our AI creates a day-by-day plan with priority rides, rest breaks, dining picks, and real tips from families with kids like yours.</p>
        </div>
      </div>
      <div class="step">
        <div class="step-num">3</div>
        <div class="step-text">
          <h3>Have the Best Trip Ever</h3>
          <p>Follow your personalized plan on your phone. Skip the stress. Actually enjoy it. Come back and tell us how it went.</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Features -->
  <div class="features fade-in">
    <div class="section-label">What Makes Us Different</div>
    <div class="feat-grid">
      <div class="feat">
        <div class="feat-icon">&#128106;</div>
        <h4>Built for YOUR Family</h4>
        <p>A toddler family gets a totally different plan than a family with thrill-seeking tweens.</p>
      </div>
      <div class="feat">
        <div class="feat-icon">&#128548;</div>
        <h4>Meltdown Prevention</h4>
        <p>Smart rest breaks and pacing built into every day. We know when kids crash and plan around it.</p>
      </div>
      <div class="feat">
        <div class="feat-icon">&#128172;</div>
        <h4>Real Family Tips</h4>
        <p>Reviews and tips from actual families — including the kids. Not generic blog posts from 2019.</p>
      </div>
      <div class="feat">
        <div class="feat-icon">&#128176;</div>
        <h4>Budget Smart</h4>
        <p>"Premier Pass saves 3 hours — here's the math." We help every budget maximize value.</p>
      </div>
      <div class="feat">
        <div class="feat-icon">&#128197;</div>
        <h4>180-Day Planning</h4>
        <p>Booking reminders, dining reservation windows, Lightning Lane strategy — timed to your trip.</p>
      </div>
      <div class="feat">
        <div class="feat-icon">&#127783;</div>
        <h4>Weather Aware</h4>
        <p>Rain plan? Heat wave? We build alternate routes around conditions so you're never stuck.</p>
      </div>
    </div>
  </div>

  <!-- Parks Covered -->
  <div class="parks-section fade-in">
    <div class="section-label">Every Part of Disney World</div>
    <div class="parks-grid">
      <div class="park-chip"><span class="park-emoji">&#127984;</span><span class="park-name">Magic<br>Kingdom</span></div>
      <div class="park-chip"><span class="park-emoji">&#127758;</span><span class="park-name">EPCOT</span></div>
      <div class="park-chip"><span class="park-emoji">&#127916;</span><span class="park-name">Hollywood<br>Studios</span></div>
      <div class="park-chip"><span class="park-emoji">&#129409;</span><span class="park-name">Animal<br>Kingdom</span></div>
      <div class="park-chip"><span class="park-emoji">&#128717;</span><span class="park-name">Disney<br>Springs</span></div>
      <div class="park-chip"><span class="park-emoji">&#127946;</span><span class="park-name">Water Parks<br>& Resorts</span></div>
    </div>
  </div>

  <!-- CTA Again -->
  <div class="cta-section fade-in" id="intake">
    <a class="cta-btn" href="#intake">Get Your Family's Guide — $29</a>
    <div class="cta-sub">Personalized AI guide delivered within 48 hours</div>
  </div>

  <!-- Intake Form Placeholder -->
  <div class="intake-section fade-in">
    <div class="intake-placeholder">
      <h3>&#128221; Tell Us About Your Trip</h3>
      <p>Our intake form collects your trip dates, party details, kids' personalities, and preferences. Takes about 5 minutes. We use this to build your custom guide.</p>
      <div class="coming">Intake Form Coming Soon — Sign Up Above to Be First</div>
    </div>
  </div>

  <!-- Testimonials -->
  <div class="testimonials fade-in">
    <div class="section-label">From Real Families</div>
    <div class="test-quote">"We tested this on a real 4-day Disney trip with two families and six kids. The guide was a game-changer — we hit every must-do ride with zero meltdowns."</div>
    <div class="test-attr">— Dave & Sarah, Founders (and Disney-obsessed parents)</div>
  </div>

  <!-- Community -->
  <div class="community-section fade-in">
    <div class="section-label">Join the Community</div>
    <div class="community-cards">
      <div class="comm-card" onclick="toggleComm('inf')">
        <div class="comm-icon inf">&#127908;</div>
        <div class="comm-info">
          <h3>Influencers & Creators</h3>
          <p>Feature your family's tips. Earn referral revenue when followers sign up.</p>
        </div>
        <span class="comm-tag tag-blush">Earn</span>
      </div>
      <div class="comm-form" id="form-inf">
        <div class="form-row"><label>Name</label><input class="form-input" id="inf-name" placeholder="Your name"></div>
        <div class="form-row"><label>Email</label><input class="form-input" id="inf-email" type="email" placeholder="you@email.com"></div>
        <div class="form-row"><label>Platform & Audience</label><textarea class="form-input" id="inf-details" placeholder="Instagram, TikTok, YouTube? Followers? Disney content?"></textarea></div>
        <button class="form-submit blush" onclick="submitComm(event,'influencer')">Apply as Creator</button>
      </div>

      <div class="comm-card" onclick="toggleComm('exp')">
        <div class="comm-icon exp">&#127891;</div>
        <div class="comm-info">
          <h3>Disney Experts</h3>
          <p>Been 10+ times? Know every shortcut? Contribute tips and get credited by name.</p>
        </div>
        <span class="comm-tag tag-blue">Contribute</span>
      </div>
      <div class="comm-form" id="form-exp">
        <div class="form-row"><label>Name</label><input class="form-input" id="exp-name" placeholder="Your name"></div>
        <div class="form-row"><label>Email</label><input class="form-input" id="exp-email" type="email" placeholder="you@email.com"></div>
        <div class="form-row"><label>Your Disney Experience</label><textarea class="form-input" id="exp-details" placeholder="How many times? Specialties (dining, DAS, rides)?"></textarea></div>
        <button class="form-submit blue" onclick="submitComm(event,'expert')">Join as Expert</button>
      </div>

      <div class="comm-card" onclick="toggleComm('ven')">
        <div class="comm-icon ven">&#129309;</div>
        <div class="comm-info">
          <h3>Vendors & Partners</h3>
          <p>Strollers, transport, equipment — reach families at their moment of need.</p>
        </div>
        <span class="comm-tag tag-gold">Partner</span>
      </div>
      <div class="comm-form" id="form-ven">
        <div class="form-row"><label>Name</label><input class="form-input" id="ven-name" placeholder="Your name"></div>
        <div class="form-row"><label>Email</label><input class="form-input" id="ven-email" type="email" placeholder="you@email.com"></div>
        <div class="form-row"><label>Your Business</label><textarea class="form-input" id="ven-details" placeholder="What do you offer? Strollers, transport, equipment?"></textarea></div>
        <button class="form-submit gold" onclick="submitComm(event,'vendor')">Partner With Us</button>
      </div>
    </div>
  </div>

  <!-- Powered By -->
  <div class="powered fade-in">
    <p>A product of</p>
    <div class="brand"><span>ParkPlanner.ai</span></div>
    <p style="margin-top:6px;font-size:11px">AI-powered trip planning for every theme park</p>
  </div>

  <!-- Legal Footer -->
  <div class="legal-footer" style="text-align:center;padding:24px 0 8px;border-top:1px solid rgba(212,168,83,.08);margin-top:32px">
    <p style="color:#5a5680;font-size:11px;line-height:1.8;max-width:540px;margin:0 auto">
      PixiePlanner.ai is an independent service and is <strong style="color:var(--text-dim)">not affiliated with, endorsed by, or in any way officially connected to</strong> The Walt Disney Company, Walt Disney World, Disneyland, or any of their subsidiaries or affiliates. All theme park names, ride names, and related trademarks are the property of their respective owners and are used here for informational purposes only.
    </p>
    <div style="margin-top:14px;display:flex;justify-content:center;gap:16px;flex-wrap:wrap">
      <a href="/privacy" style="color:var(--gold);font-size:11px;text-decoration:none;font-weight:600;opacity:.7;transition:opacity .2s" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='.7'">Privacy Policy</a>
      <a href="/terms" style="color:var(--gold);font-size:11px;text-decoration:none;font-weight:600;opacity:.7;transition:opacity .2s" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='.7'">Terms of Service</a>
      <a href="/disclaimer" style="color:var(--gold);font-size:11px;text-decoration:none;font-weight:600;opacity:.7;transition:opacity .2s" onmouseover="this.style.opacity='1'" onmouseout="this.style.opacity='.7'">Disclaimer</a>
    </div>
    <p style="color:#3a366a;font-size:10px;margin-top:12px">&copy; 2026 PixiePlanner.ai. All rights reserved. A product of ParkPlanner.ai.</p>
  </div>

  <div class="footer">pixieplanner.ai — Built with pixie dust & AI</div>
</div>

</div>

<!-- Toast -->
<div class="toast" id="toast"></div>

<script>
// ========== CONFIG ==========
var WEB3FORMS_KEY = 'e71b608c-ba69-4dc3-82d0-765910e81fc3';
// STRIPE_LINK: Replace this with your Stripe Payment Link URL when ready
var STRIPE_LINK = '#intake';

// ========== STARS ==========
(function(){
  var c = document.getElementById('stars');
  for(var i = 0; i < 80; i++){
    var s = document.createElement('div');
    s.className = 'star';
    s.style.left = Math.random()*100+'%';
    s.style.top = Math.random()*100+'%';
    s.style.setProperty('--dur', (2+Math.random()*4)+'s');
    s.style.animationDelay = Math.random()*4+'s';
    if(Math.random()>.7) s.style.width=s.style.height='3px';
    c.appendChild(s);
  }
})();

// ========== VIP ACCESS GATE ==========
var VIP_CODES = ['vip','pixie','pixieplan','pixieplanner','dave','sarah','davefontaine','beta'];

function checkGate(){
  var code = document.getElementById('gateCode').value.trim().toLowerCase().replace(/\s+/g,'');
  if(!code) return;
  if(VIP_CODES.indexOf(code)===-1){
    document.getElementById('gateError').style.display='block';
    document.getElementById('gateCode').style.borderColor='#ef4444';
    setTimeout(function(){
      document.getElementById('gateError').style.display='none';
      document.getElementById('gateCode').style.borderColor='rgba(212,168,83,.25)';
    },3000);
    return;
  }
  // Track access
  fetch('https://api.web3forms.com/submit', {
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      access_key:WEB3FORMS_KEY,
      subject:'PixiePlanner.ai — VIP Access: '+code,
      from_name:'PixiePlanner.ai',
      message:JSON.stringify({code:code,timestamp:new Date().toISOString(),ua:navigator.userAgent}),
      page:window.location.href
    })
  }).catch(function(){});
  // Unlock
  document.getElementById('gate').style.display='none';
  document.getElementById('main').style.display='block';
  showToast('Welcome! Explore your future Disney guide &#10024;');
  setTimeout(initFadeIn,100);
}

// Auto-access via URL param
(function(){
  var p = new URLSearchParams(window.location.search);
  var a = p.get('access') || p.get('code') || p.get('a');
  if(a && VIP_CODES.indexOf(a.toLowerCase())!==-1){
    document.getElementById('gate').style.display='none';
    document.getElementById('main').style.display='block';
    setTimeout(initFadeIn,100);
  }
})();

// Enter key
document.getElementById('gateCode').addEventListener('keydown',function(e){if(e.key==='Enter')checkGate()});

// ========== COMMUNITY FORMS ==========
function toggleComm(type){
  var form = document.getElementById('form-'+type);
  var isOpen = form.classList.contains('open');
  document.querySelectorAll('.comm-form').forEach(function(f){f.classList.remove('open')});
  if(!isOpen){
    form.classList.add('open');
    var inp = form.querySelector('input');
    if(inp) setTimeout(function(){inp.focus()},200);
  }
}

function submitComm(e,type){
  e.stopPropagation();
  var prefix = type==='influencer'?'inf':type==='expert'?'exp':'ven';
  var name = document.getElementById(prefix+'-name').value.trim();
  var email = document.getElementById(prefix+'-email').value.trim();
  var details = document.getElementById(prefix+'-details').value.trim();
  if(!name||!email){showToast('Please fill in your name and email!');return}
  fetch('https://api.web3forms.com/submit', {
    method:'POST',headers:{'Content-Type':'application/json'},
    body:JSON.stringify({
      access_key:WEB3FORMS_KEY,
      subject:'PixiePlanner.ai Community: '+type.toUpperCase()+' — '+name,
      from_name:'PixiePlanner.ai',
      name:name,email:email,signup_type:type,
      details:details||'(none)',
      source:window.location.href,
      timestamp:new Date().toISOString()
    })
  }).then(function(r){return r.json()}).then(function(res){
    if(res.success){
      showToast("You're in! We'll be in touch soon &#10024;");
      document.getElementById(prefix+'-name').value='';
      document.getElementById(prefix+'-email').value='';
      document.getElementById(prefix+'-details').value='';
      document.getElementById('form-'+prefix).classList.remove('open');
    } else showToast('Something went wrong. Try again?');
  }).catch(function(){showToast('Something went wrong. Try again?')});
}

// ========== TOAST ==========
function showToast(msg){
  var t=document.getElementById('toast');t.innerHTML=msg;t.classList.add('visible');
  setTimeout(function(){t.classList.remove('visible')},3500);
}

// ========== FADE IN ==========
function initFadeIn(){
  var els=document.querySelectorAll('.fade-in');
  function check(){els.forEach(function(el){if(el.getBoundingClientRect().top<window.innerHeight-40)el.classList.add('visible')})}
  check();window.addEventListener('scroll',check);
}

// ========== CTA LINKS ==========
document.querySelectorAll('.cta-btn').forEach(function(btn){
  btn.addEventListener('click',function(e){
    if(STRIPE_LINK==='#intake'){
      e.preventDefault();
      document.getElementById('intake').scrollIntoView({behavior:'smooth'});
    }
  });
});
</script>
</body>
</html>
